{"version":3,"sources":["webpack://project_2/webpack/bootstrap","webpack://project_2/webpack/runtime/global","webpack://project_2/webpack/runtime/publicPath","webpack://project_2/./src/page-registration/main.js"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","addEventListener","getElementById","setAttribute","pic","emailInput","querySelector","nameInput","passInput","form","errorBlock","preventDefault","data","email","value","username","password","fetch","method","headers","body","JSON","stringify","then","response","json","error","innerHTML","message","messages","localStorage","setItem","jwt","user","href","registration"],"mappings":"mFACIA,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUC,QAG3C,IAAIC,EAASJ,EAAyBE,GAAY,CAGjDC,QAAS,IAOV,OAHAE,EAAoBH,GAAUE,EAAQA,EAAOD,QAASF,GAG/CG,EAAOD,QCpBfF,EAAoBK,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,GACd,MAAOC,GACR,GAAsB,iBAAXC,OAAqB,OAAOA,QALjB,G,MCAxB,IAAIC,EACAX,EAAoBK,EAAEO,gBAAeD,EAAYX,EAAoBK,EAAEQ,SAAW,IACtF,IAAIC,EAAWd,EAAoBK,EAAES,SACrC,IAAKH,GAAaG,IACbA,EAASC,gBACZJ,EAAYG,EAASC,cAAcC,MAC/BL,GAAW,CACf,IAAIM,EAAUH,EAASI,qBAAqB,UACzCD,EAAQE,SAAQR,EAAYM,EAAQA,EAAQE,OAAS,GAAGH,KAK7D,IAAKL,EAAW,MAAM,IAAIS,MAAM,yDAChCT,EAAYA,EAAUU,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFrB,EAAoBsB,EAAIX,G,sBCXxBD,OAAOI,SAASS,iBAAiB,oBAAoB,KACnDT,SAASU,eAAe,aAAaC,aAAa,MAAOC,MAG3D,MAAMC,EAAab,SAASc,cAAc,UACpCC,EAAYf,SAASc,cAAc,aACnCE,EAAYhB,SAASc,cAAc,aACnCG,EAAOjB,SAASc,cAAc,kBAC9BI,EAAalB,SAASc,cAAc,UAkC1CG,EAAKR,iBAAiB,UALCd,IACrBA,EAAEwB,iBA5BiB,MACnB,MAAMC,EAAO,CACXC,MAAOR,EAAWS,MAClBC,SAAUR,EAAUO,MACpBE,SAAUR,EAAUM,OAGtBG,MAAM,iEAAkE,CACtEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUV,KAEpBW,MAAMC,GAAaA,EAASC,SAC5BF,MAAMH,IACDA,EAAKM,MACPhB,EAAWiB,UAAa,GAAEP,EAAKQ,QAAQ,GAAGC,SAAS,GAAGD,WAEtDlB,EAAWiB,UAAY,GACvBvC,OAAO0C,aAAaC,QAAQ,QAASX,EAAKY,KAC1C5C,OAAO0C,aAAaC,QAAQ,WAAYX,EAAKa,KAAKlB,UAClD3B,OAAOG,SAAS2C,KAAO,kBAO7BC,O","file":"registration.4aa5806e376bbe273a89.js","sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import 'normalize.css/normalize.css';\nimport '../css/login.css';\nimport pic from '../img/StartPic.png';\n\nwindow.document.addEventListener('DOMContentLoaded', () => {\n  document.getElementById('start-pic').setAttribute('src', pic);\n});\n\nconst emailInput = document.querySelector('#email');\nconst nameInput = document.querySelector('#username');\nconst passInput = document.querySelector('#password');\nconst form = document.querySelector('#register-form');\nconst errorBlock = document.querySelector('#error');\n\nconst registration = () => {\n  const data = {\n    email: emailInput.value,\n    username: nameInput.value,\n    password: passInput.value,\n  };\n\n  fetch('https://radiant-temple-07706.herokuapp.com/auth/local/register', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(data),\n  })\n    .then((response) => response.json())\n    .then((body) => {\n      if (body.error) {\n        errorBlock.innerHTML = `${body.message[0].messages[0].message}`;\n      } else {\n        errorBlock.innerHTML = '';\n        window.localStorage.setItem('token', body.jwt);\n        window.localStorage.setItem('username', body.user.username);\n        window.location.href = 'index.html';\n      }\n    });\n};\n\nconst regFormSubmit = (e) => {\n  e.preventDefault();\n  registration();\n};\n\nform.addEventListener('submit', regFormSubmit);\n"],"sourceRoot":""}